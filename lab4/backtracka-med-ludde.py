#t1 = {}
#t2 = {(0, 3): [['t3', 0, 2], ['t2', 2, 3]], (0, 4): [['t3', 0, 2], ['t2', 2, 4]]}
#t3 = {(0, 3): [['t2', 0, 1], ['t1', 1, 3]], (0, 2): [['t2', 0, 1], ['t1', 1, 2]], (0, 4): [['t2', 0, 3], ['t1', 3, 4]]}
#t4 = {(1, 4): [['t2', 1, 2], ['t1', 2, 4]]}
# t1 = {}
# t2 = {(0, 6): [['t3', 0, 2], ['t2', 2, 6]], (0, 3): [['t3', 0, 2], ['t2', 2, 3]], (0, 5): [['t3', 0, 2], ['t2', 2, 5]], (0, 4): [['t3', 0, 2], ['t2', 2, 4]]}
# t3 = {(0, 3): [['t2', 0, 1], ['t1', 1, 3]], (0, 2): [['t2', 0, 1], ['t1', 1, 2]], (0, 4): [['t2', 0, 3], ['t1', 3, 4]]}
# t4 = {(1, 5): [['t2', 1, 2], ['t1', 2, 5]], (2, 6): [['t2', 2, 3], ['t1', 3, 6]], (1, 6): [['t2', 1, 2], ['t1', 2, 6]], (3, 6): [['t2', 3, 4], ['t1', 4, 6]], (2, 5): [['t2', 2, 3], ['t1', 3, 5]], (1, 4): [['t2', 1, 2], ['t1', 2, 4]]}




t1 = {(2, 7): [['t1', 2, 7]], (4, 7): [['t1', 4, 7]], (2, 6): [['t1', 2, 6]], (3, 7): [['t1', 3, 7]], (0, 6): [['t1', 0, 6]], (1, 7): [['t1', 1, 7]], (1, 4): [['t1', 1, 4]], (1, 5): [['t1', 1, 5]], (0, 5): [['t1', 0, 5]], (0, 7): [['t1', 0, 7]], (3, 6): [['t1', 3, 6]], (0, 4): [['t1', 0, 4]], (1, 6): [['t1', 1, 6]], (0, 3): [['t1', 0, 3]], (2, 5): [['t1', 2, 5]]}
t2 = {(2, 7): [['t2', 2, 7]], (4, 7): [['t2', 4, 7]], (2, 6): [['t2', 2, 6]], (3, 7): [['t2', 3, 7]], (0, 6): [['t2', 0, 6]], (1, 7): [['t2', 1, 7]], (1, 4): [['t2', 1, 4]], (1, 5): [['t2', 1, 5]], (0, 5): [['t2', 0, 5]], (0, 7): [['t2', 0, 7]], (3, 6): [['t2', 3, 6]], (0, 4): [['t2', 0, 4]], (1, 6): [['t2', 1, 6]], (0, 3): [['t3', 0, 2], ['t2', 2, 3]], (2, 5): [['t2', 2, 5]]}
t3 = {(1, 2): [['t3', 1, 2]], (0, 1): [['t3', 0, 1]], (2, 5): [['t3', 2, 5]], (1, 3): [['t3', 1, 3]], (4, 6): [['t3', 4, 6]], (1, 6): [['t3', 1, 6]], (4, 5): [['t3', 4, 5]], (0, 6): [['t3', 0, 6]], (1, 4): [['t3', 1, 4]], (2, 4): [['t3', 2, 4]], (1, 5): [['t3', 1, 5]], (2, 6): [['t3', 2, 6]], (2, 3): [['t3', 2, 3]], (3, 6): [['t3', 3, 6]], (0, 4): [['t3', 0, 4]], (5, 6): [['t3', 5, 6]], (0, 5): [['t3', 0, 5]], (0, 3): [['t3', 0, 3]], (3, 4): [['t3', 3, 4]], (0, 2): [['t3', 0, 2]], (3, 5): [['t3', 3, 5]]}
t4 = {(2, 7): [['t4', 2, 6]], (4, 7): [['t4', 4, 6]], (1, 3): [['t4', 1, 2]], (3, 7): [['t4', 3, 6]], (4, 6): [['t4', 4, 5]], (1, 7): [['t4', 1, 6]], (1, 6): [['t4', 1, 5]], (0, 6): [['t4', 0, 5]], (5, 7): [['t4', 5, 6]], (1, 4): [['t4', 1, 3]], (0, 2): [['t4', 0, 1]], (1, 5): [['t4', 1, 4]], (2, 6): [['t4', 2, 5]], (0, 5): [['t4', 0, 4]], (0, 7): [['t4', 0, 6]], (3, 6): [['t4', 3, 5]], (0, 4): [['t4', 0, 3]], (2, 4): [['t4', 2, 3]], (2, 5): [['t4', 2, 4]], (0, 3): [['t4', 0, 2]], (3, 5): [['t4', 3, 4]]}


'  0	 1		2	  3		   4'
'	hej 	på	 dig 	tobbe	'
'    1       2    3       4 '

n = 7
karta = [0]*n
head = [2, 0, 2, 3]
def backtrack(root, child):
	if len(root) == 2 and len(child) == 2:
		karta[child[0]-1] = root[0]
		return child[0]

	for typ, left, right in [root, child]:
		if typ in ['t1', 't2']:
			if right - left == 1:
					print('ajdå')
			elif right - left == 2:
				if typ == 't1':
					i = backtrack([right-1, right], [left, left+1])
					karta[left] = i
				else:
					i = backtrack([left, left+1], [right-1, right])
					karta[right-1] = i
			else:
				if typ == 't1':
					if (left, right) in t1:
						print('todo')
					else:
						for i in range(left, right):
							karta[i] = i
				if typ == 't2':
					if (left, right) in t2:
						print('todo')
					else:
						for i in range(right-1, left-1, -1):
							karta[i] = i
		else:
			if right - left == 2:
				if typ == 't3':
					karta[left] = right
				else:
					karta[right] = left


backtrack(*t2[(0,n)])
print()
print(karta)